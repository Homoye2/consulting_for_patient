# Generated by Django 5.2.8 on 2025-12-26 00:19

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='LandingPageContent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('logo_text', models.CharField(default='Hôpital Abass Ndao', max_length=200, verbose_name='Texte du logo')),
                ('hero_title', models.CharField(default="Bienvenue à l'Hôpital Abass Ndao", max_length=200, verbose_name='Titre principal')),
                ('hero_description', models.TextField(default='Votre partenaire de confiance pour la santé et le bien-être.', verbose_name='Description hero')),
                ('hero_button_primary', models.CharField(default="Accéder à l'application", max_length=100, verbose_name='Bouton principal')),
                ('hero_button_secondary', models.CharField(default='En savoir plus', max_length=100, verbose_name='Bouton secondaire')),
                ('about_title', models.CharField(default="À propos de l'Hôpital Abass Ndao", max_length=200, verbose_name='Titre section à propos')),
                ('about_description_1', models.TextField(verbose_name='Description 1')),
                ('about_description_2', models.TextField(verbose_name='Description 2')),
                ('about_stat_1_value', models.CharField(default='15+', max_length=50, verbose_name='Statistique 1 - Valeur')),
                ('about_stat_1_label', models.CharField(default="Années d'expérience", max_length=100, verbose_name='Statistique 1 - Label')),
                ('about_stat_2_value', models.CharField(default='50+', max_length=50, verbose_name='Statistique 2 - Valeur')),
                ('about_stat_2_label', models.CharField(default='Professionnels', max_length=100, verbose_name='Statistique 2 - Label')),
                ('services_title', models.CharField(default='Nos Services', max_length=200, verbose_name='Titre section services')),
                ('services_subtitle', models.TextField(default='Nous offrons une gamme complète de services médicaux', verbose_name='Sous-titre services')),
                ('values_title', models.CharField(default='Pourquoi nous choisir ?', max_length=200, verbose_name='Titre section valeurs')),
                ('values_subtitle', models.TextField(default='Des valeurs qui font la différence dans nos soins', verbose_name='Sous-titre valeurs')),
                ('footer_about_text', models.TextField(default='Votre partenaire de confiance pour la santé et le bien-être de la communauté.', verbose_name='Texte footer à propos')),
                ('footer_address', models.CharField(default='Abass Ndao, Dakar, Sénégal', max_length=200, verbose_name='Adresse')),
                ('footer_phone', models.CharField(default='+221 33 XXX XX XX', max_length=50, verbose_name='Téléphone')),
                ('footer_email', models.EmailField(default='contact@abassndao.sn', max_length=254, verbose_name='Email')),
                ('footer_facebook', models.URLField(blank=True, null=True, verbose_name='Facebook')),
                ('footer_twitter', models.URLField(blank=True, null=True, verbose_name='Twitter')),
                ('footer_instagram', models.URLField(blank=True, null=True, verbose_name='Instagram')),
                ('footer_linkedin', models.URLField(blank=True, null=True, verbose_name='LinkedIn')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': "Contenu de la page d'accueil",
                'verbose_name_plural': "Contenu de la page d'accueil",
                'db_table': 'landing_page_content',
            },
        ),
        migrations.CreateModel(
            name='MethodeContraceptive',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=200)),
                ('categorie', models.CharField(choices=[('hormonale', 'Hormonale'), ('barriere', 'Barrière'), ('iud', 'DIU'), ('permanent', 'Permanent'), ('naturelle', 'Naturelle')], max_length=50)),
                ('description', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Méthode contraceptive',
                'verbose_name_plural': 'Méthodes contraceptives',
                'db_table': 'methodes_contraceptives',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='Specialite',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=200)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('description', models.TextField(blank=True)),
                ('icone', models.CharField(default='Stethoscope', max_length=100)),
                ('actif', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Spécialité',
                'verbose_name_plural': 'Spécialités',
                'db_table': 'specialites',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=100)),
                ('email', models.EmailField(max_length=254, unique=True)),
                ('role', models.CharField(choices=[('super_admin', 'Super Administrateur'), ('admin_hopital', 'Administrateur Hôpital'), ('specialiste', 'Spécialiste'), ('pharmacien', 'Pharmacien'), ('agent_enregistrement', "Agent d'enregistrement"), ('patient', 'Patient')], max_length=30)),
                ('actif', models.BooleanField(default=True)),
                ('is_staff', models.BooleanField(default=False)),
                ('is_superuser', models.BooleanField(default=False)),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now)),
                ('last_login', models.DateTimeField(blank=True, null=True)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'Utilisateur',
                'verbose_name_plural': 'Utilisateurs',
                'db_table': 'users',
            },
        ),
        migrations.CreateModel(
            name='Hopital',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=200)),
                ('code_hopital', models.CharField(max_length=50, unique=True)),
                ('adresse', models.TextField()),
                ('ville', models.CharField(max_length=100)),
                ('pays', models.CharField(default='Sénégal', max_length=100)),
                ('telephone', models.CharField(max_length=20)),
                ('email', models.EmailField(max_length=254)),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='hopitaux/logos/')),
                ('couleur_theme', models.CharField(default='#0066CC', max_length=7)),
                ('description', models.TextField(blank=True)),
                ('horaires_ouverture', models.JSONField(default=dict)),
                ('actif', models.BooleanField(default=True)),
                ('date_inscription', models.DateTimeField(auto_now_add=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('admin_hopital', models.ForeignKey(blank=True, limit_choices_to={'role': 'admin_hopital'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hopitaux_administres', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Hôpital',
                'verbose_name_plural': 'Hôpitaux',
                'db_table': 'hopitaux',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='Patient',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=100)),
                ('prenom', models.CharField(max_length=100)),
                ('dob', models.DateField(verbose_name='Date de naissance')),
                ('sexe', models.CharField(choices=[('M', 'Masculin'), ('F', 'Féminin')], max_length=1)),
                ('telephone', models.CharField(blank=True, max_length=20, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True, unique=True, verbose_name='Email')),
                ('adresse', models.TextField(blank=True, null=True)),
                ('antecedents', models.TextField(blank=True, null=True, verbose_name='Antécédents')),
                ('allergies', models.TextField(blank=True, null=True, verbose_name='Allergies')),
                ('ville_actuelle', models.CharField(blank=True, max_length=100, verbose_name='Ville actuelle')),
                ('preferences_notification', models.JSONField(blank=True, default=dict, verbose_name='Préférences de notification')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='patient_profile', to=settings.AUTH_USER_MODEL, verbose_name='Compte utilisateur')),
            ],
            options={
                'verbose_name': 'Patient',
                'verbose_name_plural': 'Patients',
                'db_table': 'patients',
            },
        ),
        migrations.CreateModel(
            name='ContactMessage',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=200, verbose_name='Nom')),
                ('email', models.EmailField(max_length=254, verbose_name='Email')),
                ('sujet', models.CharField(max_length=200, verbose_name='Sujet')),
                ('message', models.TextField(verbose_name='Message')),
                ('lu', models.BooleanField(default=False, verbose_name='Lu')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('patient', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='messages_contact', to='pf.patient', verbose_name='Patient')),
            ],
            options={
                'verbose_name': 'Message de contact',
                'verbose_name_plural': 'Messages de contact',
                'db_table': 'contact_messages',
                'ordering': ['-date_creation'],
            },
        ),
        migrations.CreateModel(
            name='ConsultationPF',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('date', models.DateTimeField(default=django.utils.timezone.now)),
                ('anamnese', models.TextField(blank=True, null=True, verbose_name='Anamnèse')),
                ('examen', models.TextField(blank=True, null=True, verbose_name='Examen clinique')),
                ('methode_posee', models.BooleanField(default=False, verbose_name='Méthode posée')),
                ('effets_secondaires', models.TextField(blank=True, null=True, verbose_name='Effets secondaires')),
                ('notes', models.TextField(blank=True, null=True)),
                ('observation', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('hopital', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='consultations', to='pf.hopital')),
                ('methode_prescite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='consultations_prescrites', to='pf.methodecontraceptive', verbose_name='Méthode prescrite')),
                ('methode_proposee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='consultations_proposees', to='pf.methodecontraceptive', verbose_name='Méthode proposée')),
                ('patient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='consultations', to='pf.patient')),
            ],
            options={
                'verbose_name': 'Consultation PF',
                'verbose_name_plural': 'Consultations PF',
                'db_table': 'consultations_pf',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Pharmacie',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=200, verbose_name='Nom de la pharmacie')),
                ('adresse', models.TextField(verbose_name='Adresse')),
                ('ville', models.CharField(default='Dakar', max_length=100)),
                ('pays', models.CharField(default='Sénégal', max_length=100)),
                ('telephone', models.CharField(max_length=20, verbose_name='Téléphone')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='Email')),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='pharmacies/logos/')),
                ('horaires_ouverture', models.JSONField(blank=True, default=dict)),
                ('description', models.TextField(blank=True)),
                ('actif', models.BooleanField(default=True, verbose_name='Active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(limit_choices_to={'role': 'pharmacien'}, on_delete=django.db.models.deletion.CASCADE, related_name='pharmacies', to=settings.AUTH_USER_MODEL, verbose_name='Pharmacien propriétaire')),
            ],
            options={
                'verbose_name': 'Pharmacie',
                'verbose_name_plural': 'Pharmacies',
                'db_table': 'pharmacies',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='Prescription',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('dosage', models.CharField(blank=True, max_length=200, null=True)),
                ('remarque', models.TextField(blank=True, null=True)),
                ('date_prescription', models.DateTimeField(auto_now_add=True)),
                ('consultation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='prescriptions', to='pf.consultationpf')),
                ('methode', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='pf.methodecontraceptive')),
            ],
            options={
                'verbose_name': 'Prescription',
                'verbose_name_plural': 'Prescriptions',
                'db_table': 'prescriptions',
                'ordering': ['-date_prescription'],
            },
        ),
        migrations.CreateModel(
            name='CommandePharmacie',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('numero_commande', models.CharField(max_length=50, unique=True)),
                ('statut', models.CharField(choices=[('en_attente', 'En attente'), ('confirmee', 'Confirmée'), ('preparee', 'Préparée'), ('prete', 'Prête à récupérer'), ('recuperee', 'Récupérée'), ('annulee', 'Annulée')], default='en_attente', max_length=20)),
                ('montant_total', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('prescription_image', models.ImageField(blank=True, null=True, upload_to='prescriptions/')),
                ('notes_patient', models.TextField(blank=True)),
                ('notes_pharmacie', models.TextField(blank=True)),
                ('date_commande', models.DateTimeField(auto_now_add=True)),
                ('date_confirmation', models.DateTimeField(blank=True, null=True)),
                ('date_preparation', models.DateTimeField(blank=True, null=True)),
                ('date_prete', models.DateTimeField(blank=True, null=True)),
                ('date_recuperation', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('patient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='commandes', to='pf.patient')),
                ('pharmacie', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='commandes', to='pf.pharmacie')),
                ('prescription', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='commandes', to='pf.prescription')),
            ],
            options={
                'verbose_name': 'Commande Pharmacie',
                'verbose_name_plural': 'Commandes Pharmacies',
                'db_table': 'commandes_pharmacies',
                'ordering': ['-date_commande'],
            },
        ),
        migrations.CreateModel(
            name='Produit',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('nom', models.CharField(max_length=200)),
                ('code_barre', models.CharField(blank=True, max_length=100, null=True, unique=True)),
                ('categorie', models.CharField(choices=[('medicament', 'Médicament'), ('contraceptif', 'Contraceptif'), ('supplement', 'Supplément'), ('materiel_medical', 'Matériel Médical'), ('hygiene', 'Hygiène'), ('autre', 'Autre')], max_length=50)),
                ('description', models.TextField(blank=True)),
                ('composition', models.TextField(blank=True)),
                ('posologie', models.TextField(blank=True)),
                ('contre_indications', models.TextField(blank=True)),
                ('fabricant', models.CharField(blank=True, max_length=200)),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('unite', models.CharField(default='unité', max_length=50)),
                ('prescription_requise', models.BooleanField(default=False)),
                ('image', models.ImageField(blank=True, null=True, upload_to='produits/images/')),
                ('actif', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('methode_contraceptive', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='produits', to='pf.methodecontraceptive')),
            ],
            options={
                'verbose_name': 'Produit',
                'verbose_name_plural': 'Produits',
                'db_table': 'produits',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='LigneCommande',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('quantite', models.IntegerField(default=1)),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10)),
                ('prix_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('commande', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='pf.commandepharmacie')),
                ('produit', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='lignes_commandes', to='pf.produit')),
            ],
            options={
                'verbose_name': 'Ligne Commande',
                'verbose_name_plural': 'Lignes Commandes',
                'db_table': 'lignes_commandes',
            },
        ),
        migrations.CreateModel(
            name='RapportConsultation',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('diagnostic', models.TextField()),
                ('traitement_prescrit', models.TextField()),
                ('recommandations', models.TextField(blank=True)),
                ('suivi_necessaire', models.BooleanField(default=False)),
                ('date_prochain_rdv', models.DateField(blank=True, null=True)),
                ('documents', models.JSONField(blank=True, default=list)),
                ('envoye_patient', models.BooleanField(default=False)),
                ('date_envoi', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('consultation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='rapport', to='pf.consultationpf')),
            ],
            options={
                'verbose_name': 'Rapport Consultation',
                'verbose_name_plural': 'Rapports Consultations',
                'db_table': 'rapports_consultations',
            },
        ),
        migrations.CreateModel(
            name='RendezVous',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('datetime', models.DateTimeField(verbose_name='Date et heure')),
                ('statut', models.CharField(choices=[('en_attente', 'En attente'), ('confirme', 'Confirmé'), ('refuse', 'Refusé'), ('annule', 'Annulé'), ('termine', 'Terminé')], default='en_attente', max_length=20)),
                ('motif', models.TextField(blank=True, verbose_name='Motif de consultation')),
                ('confirme_par_specialiste', models.BooleanField(default=False)),
                ('date_confirmation', models.DateTimeField(blank=True, null=True)),
                ('date_refus', models.DateTimeField(blank=True, null=True)),
                ('motif_refus', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('hopital', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='rendez_vous', to='pf.hopital')),
                ('patient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rendez_vous', to='pf.patient')),
            ],
            options={
                'verbose_name': 'Rendez-vous',
                'verbose_name_plural': 'Rendez-vous',
                'db_table': 'rendez_vous',
                'ordering': ['-datetime'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('type_notification', models.CharField(choices=[('rendez_vous_nouveau', 'Nouveau rendez-vous'), ('rendez_vous_confirme', 'Rendez-vous confirmé'), ('rendez_vous_refuse', 'Rendez-vous refusé'), ('rendez_vous_rappel', 'Rappel rendez-vous'), ('commande_confirmee', 'Commande confirmée'), ('commande_prete', 'Commande prête'), ('consultation_rapport', 'Rapport de consultation'), ('stock_alerte', 'Alerte stock'), ('autre', 'Autre')], max_length=50)),
                ('titre', models.CharField(max_length=200)),
                ('message', models.TextField()),
                ('data', models.JSONField(blank=True, default=dict)),
                ('lu', models.BooleanField(default=False)),
                ('date_lecture', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('commande', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='pf.commandepharmacie')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL)),
                ('rendez_vous', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='pf.rendezvous')),
            ],
            options={
                'verbose_name': 'Notification',
                'verbose_name_plural': 'Notifications',
                'db_table': 'notifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='consultationpf',
            name='rendez_vous',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='consultations', to='pf.rendezvous'),
        ),
        migrations.CreateModel(
            name='Service',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre')),
                ('description', models.TextField(verbose_name='Description')),
                ('contenu_detail', models.TextField(blank=True, null=True, verbose_name='Contenu détaillé - Comment fonctionne le service')),
                ('icone', models.CharField(default='Heart', max_length=100, verbose_name="Nom de l'icône Lucide")),
                ('ordre', models.IntegerField(default=0, verbose_name="Ordre d'affichage")),
                ('landing_page', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='services', to='pf.landingpagecontent')),
            ],
            options={
                'verbose_name': 'Service',
                'verbose_name_plural': 'Services',
                'db_table': 'services',
                'ordering': ['ordre'],
            },
        ),
        migrations.CreateModel(
            name='Specialiste',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_ordre', models.CharField(max_length=100, unique=True)),
                ('titre', models.CharField(max_length=100)),
                ('annees_experience', models.IntegerField(default=0)),
                ('bio', models.TextField(blank=True)),
                ('tarif_consultation', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('duree_consultation', models.IntegerField(default=30)),
                ('photo', models.ImageField(blank=True, null=True, upload_to='specialistes/photos/')),
                ('accepte_nouveaux_patients', models.BooleanField(default=True)),
                ('consultation_en_ligne', models.BooleanField(default=False)),
                ('note_moyenne', models.DecimalField(decimal_places=2, default=0, max_digits=3)),
                ('nombre_avis', models.IntegerField(default=0)),
                ('actif', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('hopital', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='specialistes', to='pf.hopital')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='specialiste_profile', to=settings.AUTH_USER_MODEL)),
                ('specialite', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='specialistes', to='pf.specialite')),
            ],
            options={
                'verbose_name': 'Spécialiste',
                'verbose_name_plural': 'Spécialistes',
                'db_table': 'specialistes',
            },
        ),
        migrations.AddField(
            model_name='rendezvous',
            name='specialiste',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='rendez_vous', to='pf.specialiste'),
        ),
        migrations.CreateModel(
            name='DisponibiliteSpecialiste',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('jour_semaine', models.CharField(choices=[('lundi', 'Lundi'), ('mardi', 'Mardi'), ('mercredi', 'Mercredi'), ('jeudi', 'Jeudi'), ('vendredi', 'Vendredi'), ('samedi', 'Samedi'), ('dimanche', 'Dimanche')], max_length=20)),
                ('heure_debut', models.TimeField()),
                ('heure_fin', models.TimeField()),
                ('date_debut_exception', models.DateField(blank=True, null=True)),
                ('date_fin_exception', models.DateField(blank=True, null=True)),
                ('motif_exception', models.TextField(blank=True)),
                ('actif', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('specialiste', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='disponibilites', to='pf.specialiste')),
            ],
            options={
                'verbose_name': 'Disponibilité Spécialiste',
                'verbose_name_plural': 'Disponibilités Spécialistes',
                'db_table': 'disponibilites_specialistes',
                'ordering': ['jour_semaine', 'heure_debut'],
            },
        ),
        migrations.AddField(
            model_name='consultationpf',
            name='specialiste',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='consultations', to='pf.specialiste'),
        ),
        migrations.CreateModel(
            name='AvisSpecialiste',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('note', models.IntegerField()),
                ('commentaire', models.TextField(blank=True)),
                ('ponctualite', models.IntegerField(blank=True, null=True)),
                ('ecoute', models.IntegerField(blank=True, null=True)),
                ('explication', models.IntegerField(blank=True, null=True)),
                ('recommande', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('patient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='avis_donnes', to='pf.patient')),
                ('rendez_vous', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='avis', to='pf.rendezvous')),
                ('specialiste', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='avis', to='pf.specialiste')),
            ],
            options={
                'verbose_name': 'Avis Spécialiste',
                'verbose_name_plural': 'Avis Spécialistes',
                'db_table': 'avis_specialistes',
            },
        ),
        migrations.CreateModel(
            name='StockItem',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('quantite', models.IntegerField(default=0)),
                ('seuil', models.IntegerField(default=10, verbose_name="Seuil d'alerte")),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('methode', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='pf.methodecontraceptive', verbose_name='Méthode contraceptive')),
                ('pharmacie', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='stocks_anciens', to='pf.pharmacie', verbose_name='Pharmacie')),
            ],
            options={
                'verbose_name': 'Stock',
                'verbose_name_plural': 'Stocks',
                'db_table': 'stocks',
            },
        ),
        migrations.CreateModel(
            name='MouvementStock',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('type_mouvement', models.CharField(choices=[('entree', 'Entrée'), ('sortie', 'Sortie'), ('inventaire', 'Inventaire'), ('perte', 'Perte')], max_length=20)),
                ('quantite', models.IntegerField()),
                ('motif', models.TextField(blank=True, null=True)),
                ('date_mouvement', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mouvements_stock', to=settings.AUTH_USER_MODEL)),
                ('stock_item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mouvements', to='pf.stockitem')),
            ],
            options={
                'verbose_name': 'Mouvement de stock',
                'verbose_name_plural': 'Mouvements de stock',
                'db_table': 'mouvements_stock',
                'ordering': ['-date_mouvement'],
            },
        ),
        migrations.CreateModel(
            name='StockProduit',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('quantite', models.IntegerField(default=0)),
                ('seuil_alerte', models.IntegerField(default=10)),
                ('numero_lot', models.CharField(blank=True, max_length=100)),
                ('date_expiration', models.DateField(blank=True, null=True)),
                ('prix_vente', models.DecimalField(decimal_places=2, max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pharmacie', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='pf.pharmacie')),
                ('produit', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='pf.produit')),
            ],
            options={
                'verbose_name': 'Stock Produit',
                'verbose_name_plural': 'Stocks Produits',
                'db_table': 'stocks_produits',
            },
        ),
        migrations.CreateModel(
            name='Value',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre')),
                ('description', models.TextField(verbose_name='Description')),
                ('icone', models.CharField(default='Shield', max_length=100, verbose_name="Nom de l'icône Lucide")),
                ('ordre', models.IntegerField(default=0, verbose_name="Ordre d'affichage")),
                ('landing_page', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='values', to='pf.landingpagecontent')),
            ],
            options={
                'verbose_name': 'Valeur',
                'verbose_name_plural': 'Valeurs',
                'db_table': 'values',
                'ordering': ['ordre'],
            },
        ),
        migrations.AddIndex(
            model_name='hopital',
            index=models.Index(fields=['code_hopital'], name='hopitaux_code_ho_751aa6_idx'),
        ),
        migrations.AddIndex(
            model_name='hopital',
            index=models.Index(fields=['ville'], name='hopitaux_ville_d893cc_idx'),
        ),
        migrations.AddIndex(
            model_name='hopital',
            index=models.Index(fields=['actif'], name='hopitaux_actif_80d873_idx'),
        ),
        migrations.AddIndex(
            model_name='patient',
            index=models.Index(fields=['nom', 'prenom'], name='patients_nom_d733a3_idx'),
        ),
        migrations.AddIndex(
            model_name='patient',
            index=models.Index(fields=['telephone'], name='patients_telepho_9a01bc_idx'),
        ),
        migrations.AddIndex(
            model_name='patient',
            index=models.Index(fields=['email'], name='patients_email_bf0efb_idx'),
        ),
        migrations.AddIndex(
            model_name='pharmacie',
            index=models.Index(fields=['nom'], name='pharmacies_nom_41910f_idx'),
        ),
        migrations.AddIndex(
            model_name='pharmacie',
            index=models.Index(fields=['user'], name='pharmacies_user_id_d6f13f_idx'),
        ),
        migrations.AddIndex(
            model_name='pharmacie',
            index=models.Index(fields=['actif'], name='pharmacies_actif_cea67e_idx'),
        ),
        migrations.AddIndex(
            model_name='pharmacie',
            index=models.Index(fields=['ville'], name='pharmacies_ville_b969a0_idx'),
        ),
        migrations.AddIndex(
            model_name='commandepharmacie',
            index=models.Index(fields=['numero_commande'], name='commandes_p_numero__09a399_idx'),
        ),
        migrations.AddIndex(
            model_name='commandepharmacie',
            index=models.Index(fields=['patient', 'statut'], name='commandes_p_patient_186957_idx'),
        ),
        migrations.AddIndex(
            model_name='commandepharmacie',
            index=models.Index(fields=['pharmacie', 'statut'], name='commandes_p_pharmac_98e40b_idx'),
        ),
        migrations.AddIndex(
            model_name='commandepharmacie',
            index=models.Index(fields=['date_commande'], name='commandes_p_date_co_a21b10_idx'),
        ),
        migrations.AddIndex(
            model_name='produit',
            index=models.Index(fields=['categorie'], name='produits_categor_4bd210_idx'),
        ),
        migrations.AddIndex(
            model_name='produit',
            index=models.Index(fields=['code_barre'], name='produits_code_ba_3bad94_idx'),
        ),
        migrations.AddIndex(
            model_name='produit',
            index=models.Index(fields=['actif'], name='produits_actif_c298dc_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='lignecommande',
            unique_together={('commande', 'produit')},
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['user', 'lu'], name='notificatio_user_id_c971fe_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['created_at'], name='notificatio_created_e4c995_idx'),
        ),
        migrations.AddIndex(
            model_name='rendezvous',
            index=models.Index(fields=['datetime'], name='rendez_vous_datetim_e59ee2_idx'),
        ),
        migrations.AddIndex(
            model_name='rendezvous',
            index=models.Index(fields=['statut'], name='rendez_vous_statut_b81f5f_idx'),
        ),
        migrations.AddIndex(
            model_name='rendezvous',
            index=models.Index(fields=['patient', 'datetime'], name='rendez_vous_patient_517e5a_idx'),
        ),
        migrations.AddIndex(
            model_name='rendezvous',
            index=models.Index(fields=['specialiste', 'datetime'], name='rendez_vous_special_9e5061_idx'),
        ),
        migrations.AddIndex(
            model_name='rendezvous',
            index=models.Index(fields=['hopital'], name='rendez_vous_hopital_d334d5_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='disponibilitespecialiste',
            unique_together={('specialiste', 'jour_semaine', 'heure_debut')},
        ),
        migrations.AddIndex(
            model_name='consultationpf',
            index=models.Index(fields=['date'], name='consultatio_date_84c806_idx'),
        ),
        migrations.AddIndex(
            model_name='consultationpf',
            index=models.Index(fields=['patient', 'date'], name='consultatio_patient_0b408e_idx'),
        ),
        migrations.AddIndex(
            model_name='consultationpf',
            index=models.Index(fields=['specialiste', 'date'], name='consultatio_special_d53c55_idx'),
        ),
        migrations.AddIndex(
            model_name='consultationpf',
            index=models.Index(fields=['hopital'], name='consultatio_hopital_4a5002_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='avisspecialiste',
            unique_together={('specialiste', 'patient', 'rendez_vous')},
        ),
        migrations.AddIndex(
            model_name='specialiste',
            index=models.Index(fields=['hopital', 'specialite'], name='specialiste_hopital_e39e76_idx'),
        ),
        migrations.AddIndex(
            model_name='specialiste',
            index=models.Index(fields=['actif'], name='specialiste_actif_abba09_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='specialiste',
            unique_together={('user', 'hopital')},
        ),
        migrations.AddIndex(
            model_name='stockitem',
            index=models.Index(fields=['pharmacie', 'methode'], name='stocks_pharmac_8e3d94_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='stockitem',
            unique_together={('pharmacie', 'methode')},
        ),
        migrations.AddIndex(
            model_name='mouvementstock',
            index=models.Index(fields=['date_mouvement'], name='mouvements__date_mo_5995a9_idx'),
        ),
        migrations.AddIndex(
            model_name='mouvementstock',
            index=models.Index(fields=['type_mouvement'], name='mouvements__type_mo_85e8dd_idx'),
        ),
        migrations.AddIndex(
            model_name='stockproduit',
            index=models.Index(fields=['pharmacie', 'produit'], name='stocks_prod_pharmac_a4f931_idx'),
        ),
        migrations.AddIndex(
            model_name='stockproduit',
            index=models.Index(fields=['date_expiration'], name='stocks_prod_date_ex_16cb07_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='stockproduit',
            unique_together={('pharmacie', 'produit', 'numero_lot')},
        ),
    ]
